<html>
    <head>
        <style type="text/css">
#container {
    top: 50;
    bottom: 50;
    left: 50;
    right: 50;
    position: absolute;
}
        </style>
    </head>
    <body>
        <div id="container"></div>
        <script src="sigma.js/build/sigma.min.js"></script>
        <script src="sigma.js/build/plugins/sigma.parsers.json.min.js"></script>
        <script src="sigma.js/build/plugins/sigma.renderers.edgeLabels.min.js"></script>

        <script>
            // Avoid playing multiple files simultaneously
            var playing = false;
            sigma.parsers.json('data.json', {
                renderer: {
                    container: 'container',
                    type: "canvas"
                },
                settings: {
                    edgeLabelSize: 'fixed',
                    borderSize: 0,
                    defaultNodeBorderColor: "f00",
                    sideMargin: 15,
                    defaultLavelSize: 24,
                    minArrowSize: 8,
                    zoomMin: 0.03,
                    zoomMax: 0.25,
                    minEdgeSize: 4,
                    minEdgeSize: 4,
                    minNodeSize: 8,
                    maxNodeSize: 8
                }
            },
                function(s) {
                    // Initial zoom level
                    s.cameras[0].goTo({ x: 0, y: 0, angle: 0, ratio: 0.1 });

                    // Play audio on node click
                    s.bind('clickNode', function(e) {
                        // Skip if audio is currently playing
                        if (playing) { return }

                        // Otherwise start playing, setting the guard flag
                        var filename = "./scales/audio/" + e.data.node.id + ".mp3";
                        var audio = new Audio(filename);
                        audio.onplaying = function() { playing = true }
                        audio.onended = function() { playing = false }
                        audio.play();
                    });
                }

            );
        </script>
    </body>
</html>
